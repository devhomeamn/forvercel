

<h1>Admin Panel</h1>

<h2>Manage User Roles</h2>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Email</th>
      <th>Current Role</th>
      <th>Assign New Role</th>
    </tr>
  </thead>
  <tbody>
    <% users.forEach((user) => { %>
      <tr>
        <td><%= user.name %></td>
        <td><%= user.email %></td>
        <td><%= user.role %></td>
        <td>
          <form action="/admin/assign-role" method="POST">
            <input type="hidden" name="userId" value="<%= user._id %>" />
            <select name="role">
              <option value="viewer" <%= user.role === 'viewer' ? 'selected' : '' %>>Viewer</option>
              <option value="editor" <%= user.role === 'editor' ? 'selected' : '' %>>Editor</option>
              <option value="admin" <%= user.role === 'admin' ? 'selected' : '' %>>Admin</option>
            </select>
            <button type="submit">Assign</button>
          </form>
        </td>
      </tr>
    <% }); %>
  </tbody>
</table>
